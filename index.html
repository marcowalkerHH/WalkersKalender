<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Walkers Christmas Calendar</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="intro" class="intro">
    <div class="heart-stage" id="heartStage">
      <div class="heart"></div>
      <p class="intro-text">Walkers Christmas Calendar</p>
    </div>
    <div class="neon-stage hidden" id="neonStage">
      <p class="neon-credit">von Marco / Papa</p>
    </div>
    <div class="gallery-stage hidden" id="galleryStage">
      <h2 class="gallery-title" id="galleryTitle">Familienweihnachtskalender der WalkerÂ´s</h2>
      <div class="gallery-frame">
        <div class="gallery-slide visible" id="gallerySlideA"></div>
        <div class="gallery-slide" id="gallerySlideB"></div>
      </div>
    </div>
    <canvas id="matrixCanvas" class="matrix hidden" width="800" height="600"></canvas>
  </div>

  <header class="scoreboard" id="scoreboard">
    <span data-user="noah">Noah: <strong>0</strong></span>
    <span data-user="johanna">Johanna: <strong>0</strong></span>
    <span data-user="sibylle">Sibylle: <strong>0</strong></span>
    <button id="musicToggle" aria-label="Musik an/aus">ğŸµ</button>
    <label class="volume">
      <input type="range" min="0" max="1" step="0.05" id="volumeControl">
    </label>
    <button id="nextTrack" aria-label="NÃ¤chstes Lied">â­</button>
    <button id="adminOpen" aria-label="Admin">âš™ï¸</button>
  </header>

  <main id="app" class="hidden">
    <section id="login" class="panel">
      <h1>Wer Ã¶ffnet den Kalender?</h1>
      <div class="user-select">
        <button data-user="noah">Noah</button>
        <button data-user="johanna">Johanna</button>
        <button data-user="sibylle">Sibylle</button>
      </div>
      <div class="security">
        <label for="securityAnswer" id="securityQuestionLabel">Sicherheitsfrage: Wird geladen ...</label>
        <input type="number" id="securityAnswer" placeholder="Antwort eingeben">
        <button id="loginConfirm">Kalender Ã¶ffnen</button>
        <p id="loginMessage" class="message" aria-live="assertive"></p>
      </div>
    </section>

    <section id="selectionGallery" class="modal full hidden" aria-live="polite">
      <div class="modal-content gallery-bridge">
        <h2 class="gallery-bridge__title">Walker's Familienweihnachtskalender</h2>
        <div class="gallery-bridge__frame">
          <div class="gallery-bridge__slide visible" id="selectionSlideA"></div>
          <div class="gallery-bridge__slide" id="selectionSlideB"></div>
        </div>
        <p class="gallery-bridge__note">Von Marco fÃ¼r euch â€“ kurz durch die Motive blÃ¤ttern â€¦</p>
      </div>
    </section>

    <section id="calendarView" class="panel hidden">
      <div class="calendar-header">
        <div>
          <h2 id="calendarTitle">Kalender</h2>
          <p id="calendarSubtitle">WÃ¤hle ein TÃ¼rchen</p>
        </div>
        <div class="mode-toggle">
          <label class="switch">
            <input type="checkbox" id="modeSwitch">
            <span class="slider"></span>
          </label>
          <span id="modeLabel">Offener Modus</span>
        </div>
      </div>
      <div class="winter-decor" id="winterDecor" aria-hidden="true">
        <div class="garland garland-top"></div>
        <div class="garland garland-bottom"></div>
        <div class="tree tree-left"></div>
        <div class="tree tree-right"></div>
        <div class="elf"></div>
        <div class="peek-elf-slot" aria-hidden="true"></div>
        <div class="santa"></div>
        <div class="snowman"></div>
        <div class="snowball"></div>
        <div class="snowball snowball-fast"></div>
        <div class="snowball snowball-loop"></div>
        <div class="mistletoe"></div>
        <div class="reindeer"></div>
        <div class="gift"></div>
        <div class="fireworks">
          <span class="firework f1"></span>
          <span class="firework f2"></span>
          <span class="firework f3"></span>
        </div>
      </div>
      <div class="calendar" id="calendar"></div>
      <div class="calendar-controls">
        <button id="refreshQuestions">Fragen neu mischen</button>
        <button id="backToLogin">Zur Personenauswahl</button>
        <div class="snow-controls">
          <button id="toggleSnow">â„ï¸ Schneefall</button>
          <button id="toggleSnowPile">â›„ï¸ SchneehÃ¼gel</button>
          <label class="snow-meter">SchneehÃ¶he: <span id="snowDepth">0%</span></label>
          <label class="plow-control">Pistenraupe: <input type="range" id="plowControl" min="0" max="100" value="0"></label>
        </div>
        <p class="personal-note">Mit ganz viel Liebe von Papa Marco â€“ genieÃŸt jede Frage!</p>
      </div>
      <div class="snow" id="snowLayer" aria-hidden="true"></div>
      <div class="snow-pile" id="snowPile" aria-hidden="true">
        <div class="plow" id="snowPlow">ğŸ›»</div>
      </div>
    </section>
  </main>

  <div id="questionModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="questionTitle">
    <div class="modal-content question-card">
      <div class="question-header">
        <div class="question-icon" aria-hidden="true">â„ï¸</div>
        <div>
          <p class="eyebrow">Quiz-Time</p>
          <h3 id="questionTitle">Frage</h3>
        </div>
      </div>
      <p id="questionCategory" class="category"></p>
      <p id="questionText" class="question-body"></p>
      <div id="answers" class="answers"></div>
      <p id="questionFeedback" class="message"></p>
      <button id="closeQuestion" class="ghost">ZurÃ¼ck zum Kalender</button>
    </div>
  </div>

  <div id="levelOverlay" class="celebration hidden">
    <div class="celebration-content">
      <p class="flash">NÃ¤chstes Level erreicht!</p>
    </div>
  </div>

  <div id="crownOverlay" class="celebration hidden">
    <div class="celebration-content crown">
      <p>ğŸ‘‘ Quiz-Sieger! ğŸ‘‘</p>
    </div>
  </div>

  <div id="adminModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-content admin">
      <h3>Admin-Bereich</h3>
      <label for="adminCode">Admin-Code eingeben</label>
      <input type="password" id="adminCode" placeholder="Admin-Code">
      <div class="admin-actions">
        <button id="adminCheck">BestÃ¤tigen</button>
        <button id="adminClose">SchlieÃŸen</button>
      </div>
      <div id="adminPanel" class="hidden">
        <button id="resetScores">Punkte zurÃ¼cksetzen</button>
        <button id="toggleMode">Kalender-Modus wechseln</button>
      </div>
      <p id="adminMessage" class="message" aria-live="assertive"></p>
    </div>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
